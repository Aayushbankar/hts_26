/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Silent-Protocol â€” style.css
   5 Independent, Context-Aware Layouts & Color Systems
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { height: 100%; }
body { height: 100%; overflow: hidden; display: flex; flex-direction: column; transition: background 0.3s, color 0.3s; }

/* â•â•â• COLOR SYSTEMS â•â•â• */

/* ğŸŸ¢ CLASSIFIED: Technical, CRT Terminal */
[data-theme="classified"] {
    --font-display: 'JetBrains Mono', monospace;
    --font-mono: 'JetBrains Mono', monospace;
    --bg-void: #020406; --bg-surface: #060c11; --bg-elevated: #0a141d; --bg-hover: #101e2b;
    --text-primary: #e2ede5; --text-muted: #5e8f6e; --text-ghost: #2b4534;
    --accent: #00ff41; --accent-dim: #00b02d; --accent-glow: rgba(0,255,65,0.12); --accent-text: #020406;
    --border: #133821; --border-active: rgba(0,255,65,0.3); --danger: #ff2a2a;
    --radius: 0px; --shadow: none;
}

/* ğŸ’¬ MESSENGER: Clean, Friendly Consumer App */
[data-theme="messenger"] {
    --font-display: 'Inter', sans-serif;
    --font-mono: 'Fira Code', monospace;
    --bg-void: #f3f4f6; --bg-surface: #ffffff; --bg-elevated: #f9fafb; --bg-hover: #e5e7eb;
    --text-primary: #111827; --text-muted: #6b7280; --text-ghost: #d1d5db;
    --accent: #2563eb; --accent-dim: #1d4ed8; --accent-glow: rgba(37,99,235,0.08); --accent-text: #ffffff;
    --user-bubble: #2563eb; --user-bubble-text: #ffffff;
    --border: #e5e7eb; --border-active: rgba(37,99,235,0.25); --danger: #ef4444;
    --radius: 12px; --shadow: 0 1px 2px rgba(0,0,0,0.05);
}

/* âš¡ SUPERCHAT: Modern AI SaaS */
[data-theme="superchat"] {
    --font-display: 'Plus Jakarta Sans', sans-serif;
    --font-mono: 'IBM Plex Mono', monospace;
    --bg-void: #f8fafc; --bg-surface: #ffffff; --bg-elevated: #f1f5f9; --bg-hover: #e2e8f0;
    --text-primary: #0f172a; --text-muted: #64748b; --text-ghost: #cbd5e1;
    --accent: #4f46e5; --accent-dim: #4338ca; --accent-glow: rgba(79,70,229,0.1); --accent-text: #ffffff;
    --border: #e2e8f0; --border-active: rgba(79,70,229,0.25); --danger: #ef4444;
    --radius: 8px; --shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
}

/* ğŸŸ£ PHANTOM: Luxury Stealth */
[data-theme="phantom"] {
    --font-display: 'DM Sans', sans-serif;
    --font-mono: 'Source Code Pro', monospace;
    --bg-void: #05020a; --bg-surface: #100a1a; --bg-elevated: #1a0f2e; --bg-hover: #261645;
    --text-primary: #e8e3f5; --text-muted: #8578a8; --text-ghost: #443c5c;
    --accent: #d4af37; --accent-dim: #b59226; --accent-glow: rgba(212,175,55,0.1); --accent-text: #05020a;
    --border: rgba(212,175,55,0.15); --border-active: rgba(212,175,55,0.3); --danger: #ff6b6b;
    --radius: 12px; --shadow: 0 8px 32px rgba(0,0,0,0.4);
}

/* ğŸŒ DARKCOM: Tactical NOC Dashboard */
[data-theme="darkcom"] {
    --font-display: 'Space Grotesk', sans-serif;
    --font-mono: 'Overpass Mono', monospace;
    --bg-void: #030b14; --bg-surface: #081424; --bg-elevated: #0c1b30; --bg-hover: #122540;
    --text-primary: #d1e2f3; --text-muted: #5e84a6; --text-ghost: #2b4563;
    --accent: #00f4ff; --accent-dim: #00c7d1; --accent-glow: rgba(0,244,255,0.1); --accent-text: #030b14;
    --user-bubble: #00f4ff; --user-bubble-text: #030b14;
    --border: #163254; --border-active: rgba(0,244,255,0.4); --danger: #ff3366;
    --radius: 4px; --shadow: 0 2px 8px rgba(0,0,0,0.3);
}

body { font-family: var(--font-mono); background: var(--bg-void); color: var(--text-primary); }

.layout-container { flex: 1; display: flex; flex-direction: column; overflow: hidden; }

/* â•â•â• GLOBALLY SHARED COMPONENTS â•â•â• */
.empty-state { display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; gap: 8px; padding: 40px 20px; flex: 1; }
.empty-icon { font-size: 40px; margin-bottom: 4px; }
.empty-state h2 { font-family: var(--font-display); font-size: 17px; font-weight: 600; color: var(--text-primary); }
.empty-state p { font-family: var(--font-display); font-size: 12px; color: var(--text-muted); max-width: 340px; line-height: 1.5; }

.messages { display: flex; flex-direction: column; gap: 10px; }
.message { max-width: 85%; padding: 12px 16px; border-radius: var(--radius); animation: msgIn 0.3s ease-out; box-shadow: var(--shadow); border: 1px solid transparent; }
.msg-head { display: flex; justify-content: space-between; margin-bottom: 6px; }
.msg-role { font-family: var(--font-display); font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
.msg-time { font-size: 9px; color: var(--text-ghost); font-family: var(--font-mono); }
.msg-body { font-size: 13px; line-height: 1.6; word-break: break-word; white-space: pre-wrap; font-family: var(--font-display); }

.typing-indicator { display: flex; gap: 5px; padding: 10px 14px; align-items: center; }
.td { width: 5px; height: 5px; border-radius: 50%; background: var(--accent); opacity: 0.4; animation: bounce 1.2s ease-in-out infinite; }
.td:nth-child(2) { animation-delay: 0.15s; } .td:nth-child(3) { animation-delay: 0.3s; }

.entity-tags { display: flex; flex-wrap: wrap; gap: 4px; }
.entity-tag { display: inline-flex; align-items: center; gap: 4px; padding: 3px 8px; border-radius: calc(var(--radius) - 2px); font-family: var(--font-mono); font-size: 10px; font-weight: 600; }
.entity-tag[data-tier="REPLACE"] { background: rgba(239,68,68,0.1); border: 1px solid rgba(239,68,68,0.25); color: #ef4444; }
.entity-tag[data-tier="PERTURB"] { background: rgba(245,158,11,0.1); border: 1px solid rgba(245,158,11,0.25); color: #f59e0b; }
.entity-tag[data-tier="PRESERVE"] { background: rgba(16,185,129,0.1); border: 1px solid rgba(16,185,129,0.25); color: #10b981; }
.tier-badge { font-size: 8px; font-weight: 700; opacity: 0.7; }
.placeholder { font-size: 11px; color: var(--text-ghost); font-style: italic; font-family: var(--font-mono); }

.alias-map { display: flex; flex-direction: column; gap: 4px; }
.alias-row { font-family: var(--font-mono); font-size: 11px; display: flex; align-items: center; gap: 6px; }
.alias-real { color: var(--danger); text-decoration: line-through; opacity: 0.7; }
.alias-arrow { color: var(--text-muted); }
.alias-fake { color: var(--accent); font-weight: 600; }

.sc-meter { height: 6px; width: 100%; background: var(--bg-hover); border-radius: var(--radius); overflow: hidden; margin-bottom: 8px; }
.sc-bar { height: 100%; border-radius: var(--radius); transition: width 0.5s; background: var(--accent); }
.sc-bar.low { background: #10b981; } .sc-bar.medium { background: #f59e0b; } .sc-bar.high { background: #ef4444; }
.sc-big { font-family: var(--font-display); font-size: 28px; font-weight: 700; color: var(--text-primary); line-height: 1; }
.sc-label { font-size: 10px; color: var(--text-muted); text-transform: uppercase; font-family: var(--font-display); font-weight: 600; }
.sc-row { font-size: 11px; color: var(--text-muted); display: flex; align-items: center; gap: 6px; margin-top: 4px; font-family: var(--font-mono); }
.sc-dot { width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0; }
.sc-dot.r { background: #ef4444; } .sc-dot.p { background: #f59e0b; } .sc-dot.v { background: #10b981; } .sc-dot.h { background: var(--accent); }

/* Common Base Input */
[data-input] { font-family: var(--font-display); font-size: 14px; background: var(--bg-surface); color: var(--text-primary); outline: none; transition: 0.15s; }
[data-input]::placeholder { color: var(--text-ghost); }


/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 1: CLASSIFIED 
   ASCII-style terminal. Monospace heavy.
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cl-top-bar { display: flex; justify-content: space-between; padding: 10px 16px; background: var(--bg-void); border-bottom: 1px solid var(--border); font-size: 11px; color: var(--accent); }
.cl-brand { font-weight: 700; }
.cl-controls { display: flex; gap: 12px; align-items: center; }
.cl-select { background: transparent; border: none; color: var(--accent); font-family: var(--font-mono); font-size: 11px; cursor: pointer; outline: none; appearance: none; -webkit-appearance: none; font-weight: 700; }
.cl-select option { background: var(--bg-void); color: var(--accent); }
.cl-divider { color: var(--text-ghost); }
.cl-silent-toggle { cursor: pointer; color: var(--text-primary); }
.cl-silent-toggle input { display: none; }
.cl-silent-toggle input:checked ~ span { color: var(--accent); }
.cl-btn { background: transparent; border: none; color: var(--danger); font-family: var(--font-mono); font-size: 11px; cursor: pointer; }
.cl-btn:hover { background: var(--danger); color: var(--bg-void); }

.cl-main { flex: 1; display: flex; overflow: hidden; }
.cl-chat { flex: 1; display: flex; flex-direction: column; overflow-y: auto; padding: 20px; background: var(--bg-void); position: relative; scroll-behavior: smooth; }
.cl-debug { width: 340px; background: var(--bg-surface); border-left: 1px solid var(--border); overflow-y: auto; }
.cl-debug-block { padding: 16px; border-bottom: 1px dotted var(--border); }
.cl-debug-block h3 { font-size: 10px; color: var(--text-ghost); margin-bottom: 8px; }
.cl-debug-block pre { font-size: 11px; color: var(--text-muted); background: var(--bg-void); padding: 10px; border: 1px solid var(--border); max-height: 160px; overflow-y: auto; }

.cl-input { display: flex; align-items: center; gap: 12px; padding: 16px 20px; background: var(--bg-surface); border-top: 1px solid var(--border); }
.cl-prompt { font-size: 13px; color: var(--accent-dim); }
.cl-input form { flex: 1; display: flex; gap: 12px; }
.cl-input [data-input] { flex: 1; background: transparent; border: none; color: var(--accent); font-family: var(--font-mono); }
.cl-input [data-input]:focus { box-shadow: none; border-bottom: 1px solid var(--accent); }
.cl-send { font-family: var(--font-mono); background: var(--accent); color: var(--bg-void); padding: 6px 16px; font-weight: 700; border-radius: 0; }

[data-theme="classified"] .cl-chat::after { content: ''; position: absolute; inset: 0; pointer-events: none; z-index: 2; background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,255,65,0.015) 2px, rgba(0,255,65,0.015) 4px); }
[data-theme="classified"] .message { border: 1px solid var(--border); background: var(--bg-surface); border-left-width: 4px; border-radius: 0; }
[data-theme="classified"] .message.user { border-left-color: var(--accent); }
[data-theme="classified"] .message.assistant { border-left-color: var(--text-muted); }
[data-theme="classified"] .message .msg-role { color: var(--accent); }


/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 2: MESSENGER 
   Clean, Consumer-friendly, WhatsApp-styled.
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.ms-main { flex: 1; display: flex; overflow: hidden; background: var(--bg-void); }
.ms-sidebar { width: 340px; background: var(--bg-surface); border-right: 1px solid var(--border); display: flex; flex-direction: column; }
.ms-profile { display: flex; align-items: center; gap: 12px; padding: 16px; background: var(--bg-elevated); border-bottom: 1px solid var(--border); }
.ms-avatar { font-size: 24px; width: 44px; height: 44px; display: flex; align-items: center; justify-content: center; background: var(--bg-hover); border-radius: 50%; }
.ms-profile-info { flex: 1; display: flex; flex-direction: column; }
.ms-profile-name { font-family: var(--font-display); font-weight: 600; font-size: 15px; color: var(--text-primary); }
.ms-profile-status { font-family: var(--font-display); font-size: 12px; color: var(--text-muted); }
.ms-settings .ms-select { background: transparent; border: 1px solid var(--border); padding: 4px 8px; border-radius: 6px; font-family: var(--font-display); font-size: 11px; cursor: pointer; color: var(--text-muted); }

.ms-search { padding: 12px 16px; background: var(--bg-surface); border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 8px; }
.ms-search-text { font-family: var(--font-mono); font-size: 11px; color: var(--text-muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.ms-tabs { display: flex; background: var(--bg-elevated); border-bottom: 1px solid var(--border); }
.ms-tab { flex: 1; padding: 12px 0; font-family: var(--font-display); font-size: 13px; font-weight: 600; color: var(--text-muted); background: transparent; border: none; cursor: pointer; border-bottom: 2px solid transparent; }
.ms-tab:hover { color: var(--text-primary); background: var(--bg-hover); }
.ms-tab.active { color: var(--accent); border-bottom-color: var(--accent); background: var(--bg-surface); }
.ms-tab-content { display: none; flex: 1; overflow-y: auto; padding: 16px; background: var(--bg-surface); }
.ms-tab-content.active { display: block; }

.ms-chat-wrapper { flex: 1; display: flex; flex-direction: column; }
.ms-chat-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 20px; background: var(--bg-surface); border-bottom: 1px solid var(--border); box-shadow: var(--shadow); z-index: 10; }
.ms-chat-header-left { display: flex; align-items: center; gap: 12px; }
.ms-chat-avatar { width: 40px; height: 40px; background: var(--bg-elevated); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; }
.ms-chat-name { font-family: var(--font-display); font-weight: 600; font-size: 15px; }
.ms-chat-typing { font-size: 11px; color: var(--accent); font-family: var(--font-display); }

.ms-chat-header-right { display: flex; align-items: center; gap: 14px; }
.ms-toggle-lbl { font-family: var(--font-display); font-size: 12px; color: var(--text-muted); display: flex; align-items: center; gap: 6px; cursor: pointer; }
.ms-btn-clear { background: transparent; border: 1px solid var(--border); color: var(--danger); padding: 4px 10px; border-radius: 16px; font-family: var(--font-display); font-size: 11px; cursor: pointer; font-weight: 600; }
.ms-header-action { background: var(--bg-elevated); padding: 4px 10px; border-radius: 16px; font-size: 11px; font-weight: 600; color: var(--accent); font-family: var(--font-mono); }

.ms-chat { flex: 1; overflow-y: auto; padding: 24px; background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='20' cy='20' r='1' fill='%23d1d5db' fill-opacity='0.4'/%3E%3C/svg%3E"); }
.ms-input { padding: 16px 24px; background: var(--bg-surface); }
.ms-input form { display: flex; gap: 12px; }
.ms-input [data-input] { flex: 1; height: 44px; border: 1px solid var(--border); border-radius: 22px; padding: 0 20px; background: var(--bg-elevated); }
.ms-send { border-radius: 50%; width: 44px; height: 44px; font-size: 18px; display: flex; align-items: center; justify-content: center; }

[data-theme="messenger"] .message { max-width: 65%; border: none; background: var(--bg-surface); border-radius: 16px; box-shadow: var(--shadow); padding: 12px 16px; }
[data-theme="messenger"] .message.user { align-self: flex-end; background: var(--user-bubble); color: var(--user-bubble-text); border-radius: 16px 16px 4px 16px; }
[data-theme="messenger"] .message.assistant { border-radius: 16px 16px 16px 4px; border: 1px solid var(--border); }
[data-theme="messenger"] .message.user .msg-body { color: var(--user-bubble-text); }
[data-theme="messenger"] .message.user .msg-role, [data-theme="messenger"] .message.user .msg-time { color: rgba(255,255,255,0.7); }
[data-theme="messenger"] .message.assistant .msg-role { display: none; }


/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 3: SUPERCHAT 
   SaaS Dashboard style. Broad navigation. Balanced radius.
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.sc-nav { height: 56px; background: var(--bg-surface); border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; padding: 0 24px; z-index: 10; }
.sc-nav-left { display: flex; align-items: center; gap: 12px; }
.sc-nav-logo { width: 32px; height: 32px; background: var(--accent); color: var(--accent-text); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; font-weight: 700; }
.sc-brand { font-family: var(--font-display); font-weight: 700; font-size: 16px; }
.sc-nav-center { display: flex; gap: 8px; }
.sc-nav-tab { background: transparent; border: none; padding: 6px 16px; border-radius: 20px; font-family: var(--font-display); font-size: 13px; font-weight: 600; color: var(--text-muted); cursor: pointer; transition: 0.15s; }
.sc-nav-active { background: var(--bg-elevated); color: var(--text-primary); }
.sc-nav-right { display: flex; align-items: center; gap: 16px; }
.sc-select { background: var(--bg-elevated); border: 1px solid var(--border); border-radius: 6px; padding: 6px 12px; font-family: var(--font-display); font-size: 13px; color: var(--text-primary); cursor: pointer; }
.sc-silent-toggle { font-family: var(--font-display); font-size: 13px; color: var(--text-muted); display: flex; align-items: center; gap: 8px; cursor: pointer; background: var(--bg-elevated); padding: 5px 12px; border-radius: 20px; }
.sc-btn-reset { border: none; background: transparent; color: var(--text-muted); font-family: var(--font-display); font-weight: 600; font-size: 13px; cursor: pointer; }
.sc-btn-reset:hover { color: var(--danger); }
.sc-nav-score { font-family: var(--font-mono); font-size: 12px; color: var(--accent); font-weight: 600; }

.sc-body { flex: 1; display: flex; overflow: hidden; }
.sc-sidebar { width: 280px; background: var(--bg-elevated); border-right: 1px solid var(--border); padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 24px; }
.sc-sidebar-section h4 { font-family: var(--font-display); font-size: 11px; font-weight: 700; text-transform: uppercase; color: var(--text-muted); margin-bottom: 12px; letter-spacing: 0.5px; }
.sc-sanitized-pre { font-size: 11px; background: var(--bg-surface); padding: 12px; border: 1px solid var(--border); border-radius: 8px; max-height: 200px; overflow-y: auto; color: var(--text-muted); }

.sc-chat-column { flex: 1; display: flex; flex-direction: column; background: var(--bg-void); }
.sc-chat { flex: 1; padding: 32px; overflow-y: auto; }
.sc-input { padding: 20px 32px; background: var(--bg-surface); border-top: 1px solid var(--border); }
.sc-input form { display: flex; gap: 12px; align-items: center; }
.sc-input [data-input] { height: 48px; border: 1px solid var(--border); border-radius: 8px; padding: 0 16px; box-shadow: var(--shadow); }
.sc-send { height: 48px; border-radius: 8px; padding: 0 24px; }

[data-theme="superchat"] .message { max-width: 80%; background: var(--bg-surface); border: 1px solid var(--border); box-shadow: var(--shadow); border-radius: 8px; padding: 16px 20px; }
[data-theme="superchat"] .message.user { align-self: flex-end; }
[data-theme="superchat"] .message.assistant { position: relative; margin-left: 40px; }
[data-theme="superchat"] .message.assistant::before { content: 'âš¡'; position: absolute; left: -40px; top: 0; width: 32px; height: 32px; background: var(--accent); color: var(--accent-text); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 14px; }
[data-theme="superchat"] .msg-role { display: none; }


/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 4: PHANTOM
   Luxury Dark. Floating glass panels.
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.ph-top-bar { display: flex; justify-content: space-between; align-items: center; padding: 16px 24px; z-index: 10; font-family: var(--font-display); }
.ph-logo { color: var(--accent); font-weight: 700; letter-spacing: 2px; font-size: 14px; }
.ph-controls { display: flex; gap: 24px; align-items: center; }
.ph-toggle { font-size: 13px; color: var(--text-muted); display: flex; align-items: center; gap: 8px; }
.ph-select { background: transparent; border: none; color: var(--text-primary); outline: none; font-family: var(--font-display); font-size: 13px; cursor: pointer; }
.ph-select option { background: var(--bg-void); }
.ph-btn-txt { background: transparent; border: none; color: var(--text-muted); font-size: 13px; cursor: pointer; }
.ph-btn-txt:hover { color: var(--danger); }

.ph-stage { flex: 1; display: flex; overflow: hidden; position: relative; justify-content: center; }
[data-theme="phantom"] .ph-stage::before { content: ''; position: absolute; top: 50%; left: 50%; width: 60vh; height: 60vh; background: radial-gradient(circle, rgba(212,175,55,0.08), transparent 70%); transform: translate(-50%, -50%); pointer-events: none; }
.ph-float { width: 260px; padding: 24px 16px; display: flex; flex-direction: column; gap: 16px; overflow-y: auto; z-index: 2; }
.ph-glass-card { background: rgba(16,10,26,0.6); backdrop-filter: blur(24px); border: 1px solid var(--border); border-radius: 16px; padding: 16px; box-shadow: var(--shadow); }
.ph-glass-card h4 { font-family: var(--font-display); font-size: 10px; font-weight: 600; color: var(--accent); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px; }
.ph-glass-card pre { font-size: 11px; max-height: 180px; overflow-y: auto; }

.ph-center { flex: 1; max-width: 640px; display: flex; flex-direction: column; z-index: 2; padding: 0 16px; }
.ph-chat { flex: 1; overflow-y: auto; padding: 24px 0; }
.ph-input { padding: 16px 0 24px 0; }
.ph-input form { display: flex; gap: 12px; }
.ph-input [data-input] { height: 52px; border-radius: 26px; padding: 0 24px; border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.03); backdrop-filter: blur(12px); }
.ph-send { border-radius: 50%; width: 52px; min-width: 52px; height: 52px; font-size: 20px; }

[data-theme="phantom"] .message { backdrop-filter: blur(16px); background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05); border-left: 2px solid var(--border); border-radius: 12px; }
[data-theme="phantom"] .message.user { border-left-color: var(--accent); }
[data-theme="phantom"] .message.assistant { border-left-color: #9d4edd; }


/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 5: DARKCOM
   NOC Dashboard. Dense, tactical, functional.
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.dk-main { flex: 1; display: flex; overflow: hidden; }
.dk-icon-bar { width: 48px; background: #010408; border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; justify-content: space-between; padding: 16px 0; }
.dk-icon-top, .dk-icon-bottom { display: flex; flex-direction: column; gap: 12px; }
.dk-icon { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 8px; font-size: 16px; color: var(--text-muted); cursor: pointer; background: transparent; border: none; transition: 0.15s; }
.dk-icon:hover { color: var(--text-primary); background: rgba(255,255,255,0.05); }
.dk-icon-active { color: var(--accent); background: var(--bg-surface); border: 1px solid var(--border); }

.dk-panel { width: 320px; background: var(--bg-surface); border-right: 1px solid var(--border); display: flex; flex-direction: column; overflow: hidden; }
.dk-panel-header { padding: 16px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: flex-start; }
.dk-panel-name { font-family: var(--font-display); font-size: 14px; font-weight: 700; color: var(--accent); letter-spacing: 1px; }
.dk-panel-sub { font-size: 10px; color: var(--text-muted); }
.dk-select { background: var(--bg-elevated); border: 1px solid var(--border); color: var(--accent); font-family: var(--font-mono); font-size: 10px; padding: 4px 8px; outline: none; cursor: pointer; }
.dk-panel-toggle { padding: 12px 16px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; font-family: var(--font-display); font-size: 12px; color: var(--text-muted); }

.dk-panel-section { padding: 12px 16px; border-bottom: 1px solid var(--border); flex-shrink: 0; }
.dk-panel-section:last-child { flex: 1; overflow-y: auto; }
.dk-panel-section-title { font-size: 10px; font-weight: 700; color: var(--text-muted); text-transform: uppercase; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; }
.dk-count { background: var(--accent); color: var(--bg-void); padding: 2px 6px; border-radius: 10px; }
.dk-sanitized-text { font-size: 10px; background: var(--bg-void); padding: 8px; border: 1px solid var(--border); max-height: 120px; overflow-y: auto; }

.dk-chat-wrapper { flex: 1; display: flex; flex-direction: column; background: var(--bg-void); }
.dk-chat-header { padding: 12px 20px; background: var(--bg-surface); border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
.dk-chat-name { font-size: 13px; font-weight: 700; color: var(--text-primary); letter-spacing: 0.5px; font-family: var(--font-display); }
.dk-chat-status { font-size: 11px; color: var(--accent); font-family: var(--font-mono); }
.dk-chat { flex: 1; overflow-y: auto; padding: 20px; position: relative; }
[data-theme="darkcom"] .dk-chat::before { content: ''; position: absolute; inset: 0; background-image: radial-gradient(circle, var(--text-ghost) 0.5px, transparent 0.5px); background-size: 24px 24px; opacity: 0.15; pointer-events: none; }
.dk-input { padding: 12px 20px; background: var(--bg-surface); border-top: 1px solid var(--border); }
.dk-input form { display: flex; gap: 12px; }
.dk-input [data-input] { height: 40px; border-radius: 4px; background: var(--bg-void); border: 1px solid var(--border); font-family: var(--font-mono); font-size: 12px; padding: 0 12px; }
.dk-send { height: 40px; border-radius: 4px; font-family: var(--font-mono); }

[data-theme="darkcom"] .message { border: 1px solid var(--border); background: var(--bg-surface); max-width: 75%; border-radius: 4px; padding: 10px 14px; }
[data-theme="darkcom"] .message.user { align-self: flex-end; border-color: var(--accent); border-right-width: 4px; }
[data-theme="darkcom"] .message.assistant { border-left-color: var(--text-muted); border-left-width: 4px; }


/* â•â•â• ANIMATIONS & RESPONSIVE â•â•â• */
@keyframes msgIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
@keyframes bounce { 0%,60%,100% { transform: translateY(0); opacity: 0.4; } 30% { transform: translateY(-6px); opacity: 1; } }

@media (max-width: 1024px) {
    .cl-debug { width: 260px; } .ms-sidebar { width: 280px; } .sc-sidebar { width: 240px; } .ph-float { width: 200px; } .dk-panel { width: 260px; }
}
@media (max-width: 768px) {
    .cl-debug, .ms-sidebar, .sc-sidebar, .ph-float, .dk-panel, .dk-icon-bar { display: none; }
}
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }
